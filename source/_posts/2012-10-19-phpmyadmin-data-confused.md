---
author: ety001
comments: true
date: 2012-10-19 05:27:47+00:00
layout: post
slug: phpmyadmin-data-confused
title: phpmyadmin数据库导出乱码问号（转）
wordpress_id: 2197
tags:
- 后端
---

有的时候我们网站在每次数据库备份或者服务器迁移时，用 phpmyadmin 导出数据库时所有中文字符全部变成问号，我们来看看是怎么回事。

已搬迁网站为例，我们把原来备份的数据库sql文件，在phpmyadmin中直接导入，在去看网站显示都是完全正常的，没什么异常。

接下来直接用phpmyadmin备份数据库导出sql文件，用记事本或者其他编程软件打开一看，只要是有中文的地方全是问号了，这数据不是白备份了吗，如果你每次网站备份而备了份不去打开看看，数据每次里面都是问号，当你换到另外的服务器时，那时如果你直接用这个备份的数据库导入到新的服务器中去，那已经杯具了，因为你原来备份的数据都是乱码数据。那时后悔已经晚了。<!-- more -->

我们来看看是怎么回事，我们打开备份的sql文件发现里面很多问号


![phpmyadmin数据库导出乱码问号（转） - 天行健 - 上善若水](http://img4.ph.126.net/KZZ0Xk1hTvypYw4lI_q--A==/2498371893301624354.jpg)









这个原因是你数据表中编码本来就有问题，导出去肯定会是乱码了，我们来看看数据表中的数据是怎么样的，随便打开个表看看，每个表都是问号，备份的数据库肯定是乱码了，如果你每次备份数据库都不去看看数据库中的数据是否正常，那你不是每次都白备份了。


![phpmyadmin数据库导出乱码问号（转） - 天行健 - 上善若水](http://img1.ph.126.net/XuYyweT4F1WrZrr7l1Sqrg==/1644376813960835061.jpg)




我们打开数据库服务器一看显示如下


![phpmyadmin数据库导出乱码问号（转） - 天行健 - 上善若水](http://img0.ph.126.net/NzWzNsH2cBQ4BmoR0qKgog==/6597784449214234410.jpg)







MySQL 字符集: **cp1252 West European (latin1)********，显然是这里字符集问题，看右边是**Chinese simplified-gb2312，我们把右边的编码改为Chinese simplified ，再看看左边的字符集变为了MySQL 字符集: **UTF-8 Unicode (utf8)****。我们再连接校对一下。**







![phpmyadmin数据库导出乱码问号（转） - 天行健 - 上善若水](http://img2.ph.126.net/QUeoLtbxxKJIKsT5H_nFzw==/6598061526144262102.jpg)




再去看看数据表中的数据是否还是问号。看现在就正常了，现在再备份数据库就不会是乱码了。







![phpmyadmin数据库导出乱码问号（转） - 天行健 - 上善若水](http://img9.ph.126.net/mGFIUU6lJDXBxGbjTxsQvQ==/3031485499190947839.jpg)









虽然不修改编码不会影响网站的正常显示，但是当你直接用phpmyadmin备份时就会出问题了，如果你每次用phpmyadmin备份都没有去检查备份的数据，那就很杯具了。我原来就遇到这样的问题，就是每次只管备份，没去看数据是否有问题，结果在一次换服务器时才发现杯具了，所有数据都完了。所以说我们备份网站数据时，要检查备份的数据是否正常，以免做无用功，给自己带来损失，还有我们也要养成经常备份数据的好习惯，一般一个星期左右要备份一次数据。数据备份并不一定要用自带的备份，我们也可以用第三方工具来备份数据，推荐使用**帝国备份王(Empirebak)，****任何网站都可以用，非常好用，不管多大的数据都能备份。**

